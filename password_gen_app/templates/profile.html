{% extends "main_logged_in.html" %}
{% block content %}

<body>
  <div class="w-50 mx-auto">
    <div class="mt-3">
      <p class="fs-5">Name: {{ user.full_name() }}</p>
      <p class="fs-5">Email: {{ user.email }} </p>
      <div class="d-flex justify-content-evenly flex-column flex-sm-row align-items-center">
        <a href="/edit_account/{{user.id}}"><button class="button-top-info btn btn-outline-info mb-3">Edit Account Info</button></a>
        <a href="/change_password"><button class="button-top-info btn btn-outline-success mb-3">Change Password</button></a>
        <form class="mb-3" method="get" action="/delete_account/{{user.id}}"
            onsubmit="return confirm('Are you sure you want to delete your account?');">
          <button type="submit" class="button-delete btn btn-outline-danger">Delete Account</button>
        </form>
      </div>
    </div>
    <div class="mx-sm-auto m-0">
      <table class="table table-dark table-striped mx-auto text-center">
        <thead>
          <tr>
            <th>Date Created</th>
            <th>Generated Password</th>
            <!-- Add other password attributes here -->
          </tr>
        </thead>
        <tbody>
          {% for password_obj in user.generated_passwords %}
          <tr>
            <td>{{ password_obj.created_at.strftime('%B %d, %Y') }}</td>
            <td>{{ password_obj.gen_password }}</td>
            <!-- Add other password attributes here -->
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

</body>
{% endblock content %}